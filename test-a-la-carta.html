
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test a la Carta</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      padding: 2rem;
      background-color: #f7f7f7;
    }
    .contenedor {
      max-width: 600px;
      margin: auto;
      padding: 2rem;
      background: white;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 1rem;
    }
    select {
      width: 100%;
      padding: 0.6rem;
      margin-top: 0.3rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 2rem;
      width: 100%;
      padding: 1rem;
      background-color: #0044cc;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
    }
    button:hover {
      background-color: #003399;
    }
  </style>
</head>
<body>
  <div class="contenedor">
    <h2>üß† Test a la Carta</h2>

    <label for="bloque">Bloque</label>
    <select id="bloque" onchange="mostrarTemas()">
      <option value="">Selecciona un bloque</option>
      <option value="todos">üß© Todos los bloques</option>
      <option value="juridico">üìò Ciencias Jur√≠dicas</option>
      <option value="sociologia">üìó Sociolog√≠a</option>
      <option value="tecnocientificas">üìô Tecnocient√≠ficas</option>
    </select>

    <label for="tema">Tema</label>
    <select id="tema">
      <option value="">Selecciona un tema</option>
    </select>

    <label for="cantidad">N√∫mero de preguntas</label>
    <select id="cantidad">
      <option value="">Selecciona cu√°ntas</option>
      <option value="5">5 preguntas</option>
      <option value="10">10 preguntas</option>
      <option value="20">20 preguntas</option>
      <option value="50">50 preguntas</option>
      <option value="100">100 preguntas</option>
    </select>

    <button onclick="irAlTest()">Empezar Test ‚Üí</button>
  </div>

  <script>
    const temasPorBloque = {
      juridico: {
        "T01": "01. El Derecho",
        "T02": "02. Constituci√≥n Espa√±ola (I)",
        "T03": "03. Constituci√≥n Espa√±ola (II)",
        "T04": "04. La Uni√≥n Europea",
        "T05": "05. Administraci√≥n General del Estado",
        "T06": "06. Los funcionarios P√∫blicos",
        "T07": "07. Ministerio del Interior",
        "T08": "08. Direcci√≥n General de la Polic√≠a",
        "T09": "09. LO 2/86, FFCCSS",
        "T10": "10. Entrada, libre circulaci√≥n y residencia en Espa√±a",
        "T11": "11. Infracciones en materia de extranjer√≠a",
        "T12": "12. Protecci√≥n Internacional",
        "T13": "13. Seguridad Privada",
        "T14": "14. LO 4/2015, Seguridad Ciudadana",
        "T15": "15. Infraestructuras cr√≠ticas",
        "T16": "16. Derecho Penal",
        "T17": "17. Derecho Penal Especial",
        "T18": "18. Delitos contra el patrimonio",
        "T19": "19. Delitos contra el orden p√∫blico",
        "T20": "20. Delitos inform√°ticos",
        "T21": "21. Derecho Procesal Penal",
        "T22": "22. Estatuto de la v√≠ctima del delito",
        "T23": "23. Viogen",
        "T24": "24. Protecci√≥n de Riesgos Laborales",
        "T25": "25. Marco normativo PRL",
        "T26": "26. Protecci√≥n de datos personales"
      },
      sociologia: {
        "T27": "27. Derechos humanos",
        "T28": "28. Globalizaci√≥n",
        "T29": "29. Actitudes y valores sociales",
        "T30": "30. Principios √©ticos",
        "T31": "31. Inmigraci√≥n",
        "T32": "32. Geograf√≠a humana",
        "T33": "33. La seguridad",
        "T34": "34. Drogodependencias",
        "T35": "35. Desarrollo sostenible",
        "T36": "36. Gram√°tica",
        "T37": "37. Ortograf√≠a"
      },
      tecnocientificas: {
        "T38": "38. Sistemas operativos",
        "T39": "39. Redes inform√°ticas",
        "T40": "40. Inteligencia",
        "T41": "41. Ciberdelincuencia",
        "T42": "42. Origen de las armas de fuego",
        "T43": "43. El veh√≠culo prioritario",
        "T44": "44. Seguridad en la conducci√≥n",
        "T45": "45. PRL en Seguridad Vial"
      }
    };

    function mostrarTemas() {
      const bloque = document.getElementById("bloque").value;
      const temaSelect = document.getElementById("tema");
      temaSelect.innerHTML = '<option value="">Selecciona un tema</option>';

      let temas = {};
      if (bloque === "todos") {
        for (const grupo in temasPorBloque) {
          temas = { ...temas, ...temasPorBloque[grupo] };
        }
      } else if (temasPorBloque[bloque]) {
        temas = temasPorBloque[bloque];
      }

      temaSelect.innerHTML += '<option value="todos">üß© Todos los temas</option>';
      for (const clave in temas) {
        const nombre = temas[clave];
        const opt = document.createElement("option");
        opt.value = clave;
        opt.textContent = nombre;
        temaSelect.appendChild(opt);
      }
    }

    function irAlTest() {
      const tema = document.getElementById("tema").value;
      const cantidad = document.getElementById("cantidad").value;

      if (!tema || !cantidad) {
        alert("Por favor, selecciona un tema y n√∫mero de preguntas.");
        return;
      }

      const url = `https://tucurso.moodle.com/mod/quiz/view.php?id=${tema}_${cantidad}`;
      window.open(url, "_blank");
    }
  </script>
</body>
</html>
